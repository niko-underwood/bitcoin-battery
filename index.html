<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Bitcoin Battery — Digital Energy Converter (v3)</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <div class="hud">
    <div class="title">⚡️ Bitcoin Battery — Digital Energy Rescue <span class="ver">v3</span></div>
    <div class="stats">
      <span>Saved: <b id="savedCount">0</b></span>
      <span>Melted: <b id="burnedCount">0</b></span>
      <span>Streak: <b id="streakCount">0</b></span>
    </div>
    <button id="spawnBtn" class="btn">Spawn Dollar ($)</button>
    <button id="resetBtn" class="btn">Reset</button>
  </div>

  <div class="playfield">
    <!-- LEFT: Melting Ice Cube with dollars -->
    <div class="left-side">
      <div class="ice-area">
        <div class="ice-cube" id="iceCube">
          <div class="ice-fill" id="iceFill"></div>
          <div class="frost"></div>
          <div class="crack c1"></div>
          <div class="crack c2"></div>
          <div class="crack c3"></div>
          <div class="drip d1"></div>
          <div class="drip d2"></div>
          <div class="drip d3"></div>
          <div class="dollar-stack-illus" id="stackIllus"></div>
          <div class="tray"></div>
        </div>
      </div>
      <div class="tip">Move dollars from the melting ice cube → Digital Energy Converter → Bitcoin Battery.</div>
    </div>

    <!-- CENTER: Digital Energy Converter and tube -->
    <div class="center-side">
      <div class="mailbox" id="mailbox" aria-label="Converter">
        <div class="flag"></div>
        <div class="slot" id="mailSlot"></div>
        <div class="label small">DIGITAL ENERGY CONVERTER</div>
      </div>

      <!-- Tube (SVG) -->
      <svg class="tube" viewBox="0 0 600 180" preserveAspectRatio="none">
        <defs>
          <linearGradient id="tubeGrad" x1="0%" y1="0%" x2="100%" y2="0%">
            <stop offset="0%" stop-color="#9ca3af"/>
            <stop offset="100%" stop-color="#6b7280"/>
          </linearGradient>
        </defs>
        <path id="tubePath" d="M 10 90 C 160 10, 260 160, 350 120 S 520 90, 590 90" stroke="url(#tubeGrad)" stroke-width="18" fill="none" stroke-linecap="round"/>
        <path d="M 10 90 C 160 10, 260 160, 350 120 S 520 90, 590 90" stroke="rgba(255,255,255,0.2)" stroke-width="6" fill="none" stroke-linecap="round"/>
      </svg>
    </div>

    <!-- RIGHT: Giant Bitcoin Battery (canvas) -->
    <div class="right-side">
      <div class="btc-battery">
        <div class="post left"></div>
        <div class="post right"></div>
        <div class="emblem">₿</div>
        <div class="inner">
          <canvas id="batteryCanvas" width="420" height="540"></canvas>
          <div class="battery-gloss"></div>
        </div>
        <div class="charge-bar" id="chargeBar"></div>
        <div class="glow"></div>
      </div>
      <div class="tip">Hover inside the battery—coins dodge your cursor.</div>
    </div>
  </div>

  <div class="footer">
    <span>Made for local play — no server required.</span>
    <span>Rescue melting dollars and convert them to unstoppable digital energy.</span>
  </div>

  <script src="game.js"></script>
</body>
</html>
